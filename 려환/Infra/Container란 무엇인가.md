# 컨테이너란?
    컨테이너는 소프트웨어 서비스를 실행하는 데 필요한 특정 버전의 프로그래밍 언어 런타임 및 라이브러리와 같은 종속 항목과 애플리케이션 코드를 함께 포함하는 경량 패키지이다.

# 장점

## 책임 분리
컨테이너화를 통해 책임을 깔끔하게 분리할 수 있습니다. 즉, 개발자는 애플리케이션의 로직과 종속 항목에 집중하고, IT 운영팀은 특정 소프트웨어 버전 및 구성과 같은 애플리케이션의 세부 요소 대신 배포 및 관리에 집중할 수 있습니다.

## 워크로드 이동성
컨테이너는 Linux, Windows, Mac 등의 운영체제를 가리지 않고, 가상 머신, 물리적 서버, 개발자 컴퓨터, 데이터 센터, 온프레미스 환경, 퍼블릭 클라우드 등 사실상 어느 환경에서나 구동되므로 개발 및 배포가 크게 쉬워집니다. 

## 애플리케이션 격리
컨테이너는 운영체제 수준에서 CPU, 메모리, 스토리지, 네트워크 리소스를 가상화하므로 개발자에게 다른 애플리케이션으로부터 논리적으로 격리된 OS 환경을 제공합니다.

# Container 와 VM의 차이

## VM
![vm image](https://github.com/Ryeohwan/TRL/assets/73810834/50703952-3898-40d2-9e10-4dfeefdba240)

- 일반적으로 VM 은 자체 OS를 포함하는 경우가 많다.
- VM은 하드웨어 수준에서 가상화된다.

## Container
![Container image](https://github.com/Ryeohwan/TRL/assets/73810834/729f4e8b-603e-418e-886b-0dca8f57083f)
- 컨테이너는 일반적으로 크기가 메가바이트 단위이다. VM보다 훨씬 더 경량이다. 
- OS 수준에서 가상화된다.
- 컨테이너는 OS 커널을 공유하며, VM에 필요한 것보다 훨씬 더 적은 메모리를 사용한다.


## 이 둘을 비교할 때 고려할 점
쉽게 이동할 수 있는 작은 인스턴스(컨테이너)가 필요한지, 아니면 사용자 정의 IT 리소스의 반영구적 할당이 필요한지에 따라 선택하면 좋다.

### Container 가 유리한 경우
컨테이너는 특성상 작고 가벼워 퍼블릭, 프라이빗, 하이브리드 및 멀티클라우드 환경뿐 아니라 베어 메탈 시스템 간에도 쉽게 이동할 수 있다.

또한 퍼블릭, 프라이빗, 하이브리드 및 멀티클라우드 환경 전반에 걸쳐 일관된 개발 및 자동 관리 환경을 제공하기 위해 설계된 마이크로서비스 컬렉션, 즉 오늘날의 클라우드 네이티브 애플리케이션을 배포하기에 이상적인 환경이다.

- 클라우드 네이티브 애플리케이션 빌드
- 마이크로서비스 패키징
- DevOps 또는 CI/CD 프랙티스 촉진
- 동일한 OS를 공유하는 다양한 IT 설치 공간에서 확장 가능한 IT 프로젝트로 전환


### VM이 유리한 경우
VM은 모놀리식 워크로드 패키징에 사용되는 기존 방식(현재도 이렇게 패키징되고 있음)인 단일 컨테이너보다 훨씬 더 많은 작업을 실행할 수 있습니다. 하지만 이처럼 확장된 기능으로 인해 OS, 애플리케이션, 라이브러리에 의존하게 되어 VM의 이식성이 크게 저하된다.

- 기존, 레거시 및 모놀리식 워크로드 수용
- 위험한 개발 사이클 분리
- 인프라 리소스(예: 네트워크, 서버, 데이터) 프로비저닝
- 다른 OS에서 또 다른 OS 실행(예: Linux에서 Unix 실행)

# 둘의 작동 원리

 ![VM vs Container](https://github.com/Ryeohwan/TRL/assets/73810834/8e050fab-f621-4604-b7db-90848427b573)

## VM
가상화
- 하이퍼바이저라고 하는 소프트웨어는 리소스가 파티셔닝되어 VM 전용으로 할당될 수 있도록 리소스를 물리 머신에서 분리한다.
- 사용자가 물리 환경의 추가 리소스를 요구하는 VM 명령을 발행하면 하이퍼바이저는 이 요청을 물리 시스템으로 전달하고 변경 사항을 캐싱
- VM은 물리 서버처럼 보이고 작동하므로 애플리케이션 종속성 및 대규모 OS 설치 공간(단일 애플리케이션이나 마이크로서비스를 실행하는 데는 거의 필요하지 않음)의 단점을 증대시킬 수 있다.

## 컨테이너
- 컨테이너는 마이크로서비스 또는 애플리케이션과 이를 실행하는 데 필요한 모든 것이 포함되어 있다.
- 컨테이너에 있는 모든 것은 '이미지'라고 하는 모든 라이브러리와 종속성을 포함하는 코드 기반 파일에 저장된다.
- 이 이미지는 RPM 패키지 및 구성 파일과 함께 제공되므로 이 파일은 Linux 배포 설치로 간주될 수 있다.
- . 컨테이너는 너무 작기 때문에 일반적으로 수백 개가 서로 느슨하게 결합되어 있어 컨테이너 오케스트레이션 플랫폼 (ex. 쿠버네티스)을 사용하여 컨테이너를 프로비저닝(인프라 환경을 생성하고 설정하는 프로세스를 말한다.)하고 관리한다.

관리 툴로 Podman, Skopeo, Buildah, CRI-O, 쿠버네티스, Docker 등 많다.

# 출처
[오픈나루](http://www.opennaru.com/cloud/virtualization-vs-container/)

[레드햇](https://www.redhat.com/ko/topics/containers/containers-vs-vms)

[구글 클라우드](https://cloud.google.com/learn/what-are-containers?hl=ko)

[레드햇](https://www.redhat.com/ko/topics/containers)

[레드햇](https://www.redhat.com/ko/topics/automation/what-is-provisioning)
